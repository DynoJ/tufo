<div class="home-page">
  <!-- Near Me Section -->
  <section class="near-me-section">
    <div class="section-header">
      <h2>ğŸ“ Climbing Near You</h2>
      <p>Discover areas within your reach</p>
    </div>

    <div class="map-container">
      <div *ngIf="loadingLocation" class="map-loading">
        <div class="spinner"></div>
        <p>Getting your location...</p>
      </div>

      <div id="map" class="nearby-map"></div>
      
      <div *ngIf="loadingAreas" class="map-overlay">
        <div class="spinner"></div>
        <p>Loading climbing areas...</p>
      </div>
    </div>

    <!-- Map Legend -->
    <div class="map-legend">
      <div class="legend-item">
        <div class="legend-dot" style="background: #10b981;"></div>
        <span>100+ routes</span>
      </div>
      <div class="legend-item">
        <div class="legend-dot" style="background: #2196f3;"></div>
        <span>50-99 routes</span>
      </div>
      <div class="legend-item">
        <div class="legend-dot" style="background: #f59e0b;"></div>
        <span>20-49 routes</span>
      </div>
      <div class="legend-item">
        <div class="legend-dot" style="background: #ef4444;"></div>
        <span>&lt;20 routes</span>
      </div>
    </div>
  </section>

  <!-- Search Section -->
  <section class="search-section">
    <div class="section-header">
      <h2>ğŸ” Find Your Climb</h2>
      <p>Search for areas, crags, or specific routes</p>
    </div>

    <div class="search-box">
      <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="11" cy="11" r="8"></circle>
        <path d="m21 21-4.35-4.35"></path>
      </svg>
      <input
        type="text"
        [(ngModel)]="searchQuery"
        (input)="onSearch()"
        placeholder="Search areas, crags, or routes..."
        class="search-input"
      />
      <button *ngIf="searchQuery" class="clear-btn" (click)="clearSearch()">Ã—</button>
    </div>

    <!-- Search Results -->
    <div *ngIf="searching" class="search-loading">
      <div class="spinner"></div>
      <p>Searching...</p>
    </div>

    <div *ngIf="!searching && searchResults.length > 0" class="search-results">
      <div 
        *ngFor="let result of searchResults"
        class="result-card"
        (click)="selectResult(result)">
        <div class="result-icon">
          {{ result.type === 'area' ? 'ğŸ“' : 'ğŸ§—' }}
        </div>
        <div class="result-info">
          <h4>{{ result.name }}</h4>
          <p *ngIf="result.type === 'area' && result.climbCount">
            {{ result.climbCount }} routes
          </p>
          <p *ngIf="result.type === 'climb' && result.grade">
            {{ result.grade }} â€¢ {{ result.location }}
          </p>
        </div>
        <svg class="result-arrow" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="m9 18 6-6-6-6"/>
        </svg>
      </div>
    </div>

    <div *ngIf="!searching && searchQuery && searchResults.length === 0" class="no-results">
      <p>No results found for "{{ searchQuery }}"</p>
    </div>
  </section>
</div>